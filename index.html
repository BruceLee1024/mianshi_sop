<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¢è¯• SOP</title>
    <!-- æ·»åŠ  PWA æ”¯æŒ -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#6c5ce7">
    <link rel="apple-touch-icon" href="icon.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6;
            color: #2d3436;
            margin: 0 auto;
            padding: 20px;
            background: #f5f6fa;
            min-height: 100vh;
        }

        .container {
            display: grid;
            grid-template-columns: 300px 1fr 400px;
            gap: 30px;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .main-content {
            flex: 1;
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.03);
            border: 1px solid rgba(255,255,255,0.8);
            min-height: calc(100vh - 40px);
        }

        .detail-panel {
            width: 100%;
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.03);
            border: 1px solid rgba(255,255,255,0.8);
            position: sticky;
            top: 20px;
            max-height: calc(100vh - 40px);
            overflow-y: auto;
        }

        .detail-panel:hover {
            box-shadow: 0 8px 24px rgba(0,0,0,0.08);
        }

        .detail-panel::-webkit-scrollbar {
            width: 6px;
        }

        .detail-panel::-webkit-scrollbar-track {
            background: #f0f2f5;
        }

        .detail-panel::-webkit-scrollbar-thumb {
            background-color: #3498db;
            border-radius: 3px;
        }

        .detail-panel h2 {
            font-size: 1.5em;
            color: #6c5ce7;
            margin-bottom: 20px;
            padding-bottom: 10px;
            position: relative;
            text-align: center;
            border-bottom: 2px solid #a29bfe;
        }

        .detail-panel h2:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(to right, #3498db, #2980b9);
            border-radius: 2px;
        }

        .detail-panel h3 {
            font-size: 1.3em;
            color: #34495e;
            margin: 15px 0;
            padding-left: 15px;
            position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .detail-panel h3:before {
            content: 'ğŸ“Œ';
        }

        .detail-content {
            padding: 15px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            border: 1px solid rgba(52, 152, 219, 0.1);
        }

        .detail-content.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .resource-link {
            color: #3498db;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 8px 0;
            padding: 10px 15px;
            background: #f5f3fe;
            border: 1px solid rgba(108, 92, 231, 0.1);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            width: 100%;
            border-radius: 6px;
        }

        .resource-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.15);
            background: rgba(52, 152, 219, 0.05);
        }

        .resource-link:before {
            content: 'ğŸ”—';
        }

        .tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.85em;
            margin-left: auto;
            background: linear-gradient(45deg, #6c5ce7, #a29bfe);
            color: white;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .tip-box, .warning-box {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid rgba(52, 152, 219, 0.2);
            box-shadow: 0 2px 8px rgba(52, 152, 219, 0.08);
        }

        .tip-box:hover, .warning-box:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .tip-box h4:before {
            content: '';
            margin-right: 8px;
        }

        .warning-box h4:before {
            content: 'âš ï¸';
            margin-right: 8px;
        }

        h1 {
            text-align: center;
            color: #6c5ce7;
            margin-bottom: 30px;
            font-size: 2em;
            font-weight: 600;
            position: relative;
        }

        h1:after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background: linear-gradient(to right, #6c5ce7, #a29bfe);
            margin: 10px auto;
            border-radius: 2px;
        }

        .todo-list {
            list-style: none;
        }

        .todo-item {
            background: linear-gradient(to right, #fff, #fafaff);
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid rgba(108, 92, 231, 0.1);
            transition: all 0.3s ease;
        }

        .todo-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 92, 231, 0.1);
        }

        .todo-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
            padding: 15px 20px;
            border-radius: 6px;
            transition: background-color 0.2s ease;
            background: rgba(108, 92, 231, 0.05);
        }

        .todo-header:hover {
            background: rgba(52, 152, 219, 0.1);
        }

        .todo-checkbox, .subtask input[type="checkbox"] {
            margin-right: 10px;
            width: 20px;
            height: 20px;
            cursor: pointer;
            appearance: none;
            border: 2px solid #3498db;
            border-radius: 4px;
            position: relative;
            transition: all 0.2s ease;
            background: white;
        }

        .todo-checkbox:checked, .subtask input[type="checkbox"]:checked {
            background: #3498db;
            transform: scale(1.05);
        }

        .todo-title {
            font-size: 1.2em;
            font-weight: bold;
            flex-grow: 1;
            position: relative;
            padding-left: 10px;
        }

        .todo-title:before {
            content: '';
            position: absolute;
            left: -15px;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 8px;
            background: #3498db;
            border-radius: 50%;
        }

        .todo-content {
            margin-left: 30px;
            display: none;
        }

        .todo-item.active .todo-content {
            display: block;
        }

        .subtask {
            margin: 10px 0;
            padding: 12px;
            background: #fff;
            border-radius: 6px;
            display: flex;
            align-items: center;
            border: 1px solid #eee;
            transition: all 0.2s ease;
        }

        .subtask:hover {
            background: #f8f9fa;
            border-color: #3498db;
        }

        .progress-bar {
            height: 6px;
            background: #eee;
            margin-top: 15px;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: #3498db;
            border-radius: 3px;
            width: 0;
            transition: width 0.5s ease;
            background-image: linear-gradient(45deg, 
                rgba(255,255,255,.15) 25%, 
                transparent 25%, 
                transparent 50%, 
                rgba(255,255,255,.15) 50%, 
                rgba(255,255,255,.15) 75%, 
                transparent 75%, 
                transparent);
            background-size: 1rem 1rem;
            animation: progress-bar-stripes 1s linear infinite,
                      progress-fill 0.5s ease;
        }

        @keyframes progress-bar-stripes {
            0% { background-position: 1rem 0; }
            100% { background-position: 0 0; }
        }

        @keyframes progress-fill {
            from { width: 0; }
        }

        .completed {
            text-decoration: line-through;
            color: #888;
        }

        .notes {
            margin-top: 10px;
            padding: 10px;
            background: #fff3cd;
            border-radius: 4px;
            font-size: 0.9em;
        }

        .detail-section {
            margin-bottom: 20px;
        }

        .detail-section h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .resource-list {
            margin: 10px 0;
        }

        .example-box {
            background: #fff;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            border: 1px solid #e1e8ed;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .example-box h4 {
            color: #2c3e50;
            margin-bottom: 12px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
        }

        .example-box h4:before {
            content: 'ğŸ“';
            margin-right: 8px;
        }

        /* æ·»åŠ å¹³æ»‘æ»šåŠ¨ */
        html {
            scroll-behavior: smooth;
        }

        /* æ·»åŠ ä»»åŠ¡å®ŒæˆåŠ¨ç”» */
        @keyframes taskComplete {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .subtask.completed {
            animation: taskComplete 0.3s ease;
            background: #f8f9fa;
            border-color: #3498db;
            opacity: 0.8;
        }

        /* ä¼˜åŒ–åˆ—è¡¨æ ·å¼ */
        .detail-content ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
            overflow: hidden;
        }

        .detail-content ul li {
            position: relative;
            padding-left: 20px;
            margin-bottom: 12px;
            line-height: 1.6;
            color: #2c3e50;
        }

        .detail-content ul li:before {
            content: 'â€¢';
            color: #3498db;
            position: absolute;
            left: 0;
            font-weight: bold;
            font-size: 1.2em;
        }

        /* é»˜è®¤åªæ˜¾ç¤ºç¬¬ä¸€ä¸ªæ­¥éª¤çš„è¯¦æƒ… */
        #step1-detail {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* æ·»åŠ åˆ†éš”çº¿ */
        .detail-content > div:not(:last-child) {
            position: relative;
            margin-bottom: 30px;
        }

        .detail-content > div:not(:last-child):after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(to right, 
                rgba(52, 152, 219, 0.1), 
                rgba(52, 152, 219, 0.2), 
                rgba(52, 152, 219, 0.1));
        }

        /* åœ†ç¯è¿›åº¦æ¡æ ·å¼ */
        .progress-circle-container {
            width: 100%;
            background: white;
            padding: 20px 0;
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .progress-circle {
            width: 120px;
            height: 120px;
            margin: 0 auto;
            position: relative;
            transform: rotate(-90deg);
            filter: drop-shadow(0 0 4px rgba(52, 152, 219, 0.2));
        }

        .progress-circle-bg {
            fill: none;
            stroke: #eee;
            stroke-width: 6;
            opacity: 0.2;
        }

        .progress-circle-value {
            fill: none;
            stroke: url(#rainbow);
            stroke-width: 6;
            stroke-linecap: round;
            transition: all 0.5s ease;
            filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.2));
            transform-origin: center;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
            text-shadow: 0 1px 1px rgba(0,0,0,0.1);
            width: 100%;
            text-align: center;
            margin: 0;
            padding: 0;
            line-height: 1;
            pointer-events: none;
        }

        .progress-label {
            margin-top: 10px;
            color: #34495e;
            font-size: 14px;
            opacity: 0.9;
        }

        /* æ·»åŠ æ¸å˜æ•ˆæœ */
        .progress-circle-container svg {
            overflow: visible;
        }

        /* å·¦ä¾§æ æ ·å¼ */
        .left-panel {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            padding: 25px;
            position: sticky;
            top: 20px;
            height: fit-content;
        }

        .left-panel h2 {
            font-size: 1.3em;
            color: #6c5ce7;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #a29bfe;
        }

        /* ä½¿ç”¨è¯´æ˜æ ·å¼ */
        .instructions {
            margin-top: 30px;
        }

        .instruction-item {
            margin-bottom: 15px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 3px solid #3498db;
        }

        .instruction-item h4 {
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .instruction-item p {
            color: #34495e;
            font-size: 0.9em;
            line-height: 1.5;
        }

        /* æ·»åŠ åº†ç¥åŠ¨ç”»ç›¸å…³æ ·å¼ */
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            display: none;
        }

        .celebration.active {
            display: block;
        }

        .firework {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: firework 1s ease-out forwards;
        }

        @keyframes firework {
            0% {
                transform: scale(0);
                opacity: 1;
                box-shadow: 
                    0 0 0 0 #6c5ce7,
                    0 0 0 0 #a29bfe,
                    0 0 0 0 #74b9ff,
                    0 0 0 0 #81ecec;
            }
            100% {
                transform: scale(1);
                opacity: 0;
                box-shadow: 
                    -50px -50px 0 0 #6c5ce7,
                    50px -50px 0 0 #a29bfe,
                    50px 50px 0 0 #74b9ff,
                    -50px 50px 0 0 #81ecec;
            }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            animation: confetti 3s ease-in-out infinite;
        }

        @keyframes confetti {
            0% {
                transform: translateY(-100%) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* æ·»åŠ å½©è™¹æ—‹è½¬åŠ¨ç”» */
        @keyframes rainbow-rotate {
            from {
                filter: hue-rotate(0deg);
            }
            to {
                filter: hue-rotate(360deg);
            }
        }

        /* ç»Ÿä¸€å·¦å³æ æ ·å¼ */
        .left-panel, .detail-panel {
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.03);
            border: 1px solid rgba(255,255,255,0.8);
            position: sticky;
            top: 20px;
            height: fit-content;
        }

        /* ç»Ÿä¸€æ ‡é¢˜æ ·å¼ */
        .left-panel h2, .detail-panel h2 {
            font-size: 1.3em;
            color: #6c5ce7;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #a29bfe;
            text-align: center;
        }

        /* ç»Ÿä¸€å¡ç‰‡æ ·å¼ */
        .instruction-item, .tip-box, .warning-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid rgba(108, 92, 231, 0.1);
            transition: all 0.3s ease;
        }

        .instruction-item:hover, .tip-box:hover, .warning-box:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 92, 231, 0.08);
        }

        /* ç»Ÿä¸€æ ‡é¢˜å‰ç¼€å›¾æ ‡ */
        .instruction-item h4:before,
        .tip-box h4:before,
        .warning-box h4:before {
            margin-right: 8px;
        }

        /* ç»Ÿä¸€æ»šåŠ¨æ¡æ ·å¼ */
        .left-panel::-webkit-scrollbar,
        .detail-panel::-webkit-scrollbar {
            width: 6px;
        }

        .left-panel::-webkit-scrollbar-track,
        .detail-panel::-webkit-scrollbar-track {
            background: #f5f6fa;
        }

        .left-panel::-webkit-scrollbar-thumb,
        .detail-panel::-webkit-scrollbar-thumb {
            background-color: #6c5ce7;
            border-radius: 3px;
        }

        /* ç»Ÿä¸€æ–‡æœ¬æ ·å¼ */
        .instruction-item p,
        .tip-box li,
        .warning-box li {
            color: #2d3436;
            font-size: 0.95em;
            line-height: 1.6;
        }

        /* ç»Ÿä¸€hoveræ•ˆæœ */
        .left-panel:hover,
        .detail-panel:hover {
            box-shadow: 0 6px 24px rgba(108, 92, 231, 0.08);
        }
    </style>
</head>
<body>
    <div class="celebration">
        <!-- çƒŸèŠ±å’Œå½©å¸¦ä¼šé€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
    </div>

    <div class="container">
        <div class="left-panel">
            <h2>å‡†å¤‡è¿›åº¦</h2>
            <div class="progress-circle-container">
                <svg class="progress-circle" viewBox="0 0 36 36">
                    <defs>
                        <linearGradient id="rainbow" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#6c5ce7;stop-opacity:1" />
                            <stop offset="20%" style="stop-color:#a29bfe;stop-opacity:1" />
                            <stop offset="40%" style="stop-color:#74b9ff;stop-opacity:1" />
                            <stop offset="60%" style="stop-color:#81ecec;stop-opacity:1" />
                            <stop offset="80%" style="stop-color:#55efc4;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#00b894;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <path class="progress-circle-bg"
                        d="M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831"
                    />
                    <path class="progress-circle-value"
                        d="M18 2.0845
                            a 15.9155 15.9155 0 0 1 0 31.831
                            a 15.9155 15.9155 0 0 1 0 -31.831"
                    />
                </svg>
                <div class="progress-text">0%</div>
                <div class="progress-label">æ€»ä½“å®Œæˆè¿›åº¦</div>
            </div>
            
            <div class="instructions">
                <h2>ä½¿ç”¨è¯´æ˜</h2>
                <div class="instruction-item">
                    <h4>å¦‚ä½•ä½¿ç”¨</h4>
                    <p>ç‚¹å‡»ä¾§æ­¥éª¤æŸ¥çœ‹è¯¦ç»†è¯´æ˜ï¼Œå®Œæˆå­ä»»åŠ¡åå‹¾é€‰å¯¹åº”å¤é€‰æ¡†ã€‚</p>
                </div>
                <div class="instruction-item">
                    <h4>è¿›åº¦ä¿å­˜</h4>
                    <p>æ‰€æœ‰è¿›åº¦ä¼šè‡ªåŠ¨ä¿å­˜åœ¨æœ¬åœ°ï¼Œå¯ä»¥éšæ—¶ç»§ç»­å®Œæˆã€‚</p>
                </div>
                <div class="instruction-item">
                    <h4>å®Œæˆæ ‡å‡†</h4>
                    <p>æ¯ä¸ªæ­¥éª¤éƒ½å®Œæˆåï¼Œç¡®ä¿ç†è§£å’ŒæŒæ¡ç›¸å…³å†…å®¹ã€‚</p>
                </div>
            </div>
        </div>

        <div class="main-content">
            <h1>é¢è¯• SOP</h1>
            <ul class="todo-list">
                <!-- ç¬¬1æ­¥ï¼šåå‘èƒŒè°ƒ -->
                <li class="todo-item" data-step="1">
                    <div class="todo-header" onclick="toggleContent(this)">
                        <input type="checkbox" class="todo-checkbox" onchange="toggleStep(this)">
                        <span class="todo-title">ç¬¬1æ­¥ï¼šåå‘èƒŒè°ƒ</span>
                    </div>
                    <div class="todo-content">
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>æŸ¥è¯¢å·¥å•†ä¿¡æ¯ï¼ˆä¼æŸ¥æŸ¥/å¤©çœ¼æŸ¥ï¼‰</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>æ£€æŸ¥ç»è¥å¼‚å¸¸ï¼ˆå›½å®¶ä¼ä¸šä¿¡ç”¨å…¬ç¤ºç³»ç»Ÿï¼‰</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>æŸ¥çœ‹ä¼ä¸šå¹´æŠ¥</span>
                        </div>
                        <div class="notes">
                            æ³¨æ„äº‹é¡¹ï¼š
                            - æˆç«‹æ—¶é—´å°‘äº6ä¸ªæœˆè¦è°¨æ…
                            - å®ç¼´èµ„æœ¬å°‘äº50ä¸‡è¦è°¨æ…
                            - å‚ä¿äººæ•°ä¸º0çš„ä¸è¦å»
                        </div>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </li>

                <!-- ç¬¬2æ­¥ï¼šç ”ç©¶å²—ä½JD -->
                <li class="todo-item" data-step="2">
                    <div class="todo-header" onclick="toggleContent(this)">
                        <input type="checkbox" class="todo-checkbox" onchange="toggleStep(this)">
                        <span class="todo-title">ç¬¬2æ­¥ï¼šç ”ç©¶å²—ä½JD</span>
                    </div>
                    <div class="todo-content">
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>åˆ†æå²—ä½èŒè´£è¦æ±‚</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>æ•´ç†æŠ€èƒ½è¦æ±‚æ¸…å•</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>è¯„ä¼°è–ªèµ„èŒƒå›´</span>
                        </div>
                        <div class="notes">
                            é‡ç‚¹å…³æ³¨ï¼š
                            - å·¥ä½œé‡è¯„ä¼°
                            - æŠ€èƒ½åŒ¹é…åº¦
                            - å‘å±•ç©ºé—´
                        </div>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </li>

                <!-- ç¬¬3æ­¥ï¼šçœ‹è¡Œä¸šç ”ç©¶ -->
                <li class="todo-item" data-step="3">
                    <div class="todo-header" onclick="toggleContent(this)">
                        <input type="checkbox" class="todo-checkbox" onchange="toggleStep(this)">
                        <span class="todo-title">ç¬¬3æ­¥ï¼šè¡Œä¸šç ”ç©¶</span>
                    </div>
                    <div class="todo-content">
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>é˜…è¯»è¡Œä¸šç ”ç©¶æŠ¥å‘Š</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>åˆ†æå¸‚åœºç«äº‰æ ¼å±€</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>ç ”ç©¶å‘å±•è¶‹åŠ¿</span>
                        </div>
                        <div class="notes">
                            é‡ç‚¹å…³æ³¨ï¼š
                            - è¡Œä¸šå‘å±•è¶‹åŠ¿
                            - å¸‚åœºè§„æ¨¡å¢é•¿ç‡
                            - ä¸»è¦ç«äº‰å¯¹æ‰‹åˆ†æ
                        </div>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </li>

                <!-- ç¬¬4æ­¥ï¼šå‡†å¤‡è‡ªæˆ‘ä»‹ç» -->
                <li class="todo-item" data-step="4">
                    <div class="todo-header" onclick="toggleContent(this)">
                        <input type="checkbox" class="todo-checkbox" onchange="toggleStep(this)">
                        <span class="todo-title">ç¬¬4æ­¥ï¼šå‡†å¤‡è‡ªæˆ‘ä»‹ç»</span>
                    </div>
                    <div class="todo-content">
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>å‡†å¤‡HRé¢è¯•ç‰ˆæœ¬</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>å‡†å¤‡ä¸šåŠ¡é¢è¯•ç‰ˆæœ¬</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>å‡†å¤‡ä¸ªäººäº®ç‚¹æ•…äº‹</span>
                        </div>
                        <div class="notes">
                            æ³¨æ„äº‹é¡¹ï¼š
                            - çªå‡ºä¸å²—ä½çš„åŒ¹é…åº¦
                            - å‡†å¤‡2-3ä¸ªæˆåŠŸæ¡ˆä¾‹
                            - æ§åˆ¶æ—¶é•¿åœ¨3åˆ†é’Ÿå†…
                        </div>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </li>

                <!-- ç¬¬5æ­¥ï¼šæ•´ç†é¢è¯•é—®é¢˜ -->
                <li class="todo-item" data-step="5">
                    <div class="todo-header" onclick="toggleContent(this)">
                        <input type="checkbox" class="todo-checkbox" onchange="toggleStep(this)">
                        <span class="todo-title">ç¬¬5æ­¥ï¼šæ•´ç†é¢è¯•é—®é¢˜</span>
                    </div>
                    <div class="todo-content">
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>å‡†å¤‡å¸¸è§é—®é¢˜ç­”æ¡ˆ</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>å‡†å¤‡ä¸“ä¸šæŠ€èƒ½é—®é¢˜</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>å‡†å¤‡åé—®é¢è¯•å®˜çš„é—®é¢˜</span>
                        </div>
                        <div class="notes">
                            å¸¸è§é—®é¢˜ï¼š
                            - ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬å…¬å¸
                            - æœªæ¥çš„èŒä¸šè§„åˆ’
                            - æœ€å¤§çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆ
                        </div>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </li>

                <!-- ç¬¬6æ­¥ï¼šé¡¹ç›®ç»å† -->
                <li class="todo-item" data-step="6">
                    <div class="todo-header" onclick="toggleContent(this)">
                        <input type="checkbox" class="todo-checkbox" onchange="toggleStep(this)">
                        <span class="todo-title">ç¬¬6æ­¥ï¼šé¡¹ç›®ç»å†</span>
                    </div>
                    <div class="todo-content">
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>æ•´ç†é¡¹ç›®èƒŒæ™¯å’Œç›®æ ‡</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>å‡†å¤‡é¡¹ç›®éš¾ç‚¹å’Œè§£å†³æ–¹æ¡ˆ</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>å‡†å¤‡é¡¹ç›®æˆæœå’Œæ•°æ®</span>
                        </div>
                        <div class="notes">
                            STARåˆ™ï¼š
                            - Situation: é¡¹ç›®èƒŒæ™¯
                            - Task: ä»»åŠ¡ç›®æ ‡
                            - Action: å…·ä½“è¡ŒåŠ¨
                            - Result: æœ€ç»ˆç»“æœ
                        </div>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </li>

                <!-- ç¬¬7æ­¥ï¼šæ¨¡æ‹Ÿé¢è¯• -->
                <li class="todo-item" data-step="7">
                    <div class="todo-header" onclick="toggleContent(this)">
                        <input type="checkbox" class="todo-checkbox" onchange="toggleStep(this)">
                        <span class="todo-title">ç¬¬7æ­¥ï¼šæ¨¡æ‹Ÿé¢è¯•</span>
                    </div>
                    <div class="todo-content">
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>æ‰¾äººè¿›è¡Œæ¨¡æ‹Ÿé¢è¯•</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>å½•åˆ¶è‡ªæˆ‘ä»‹ç»è§†é¢‘</span>
                        </div>
                        <div class="subtask">
                            <input type="checkbox" onchange="updateProgress(this.parentElement.parentElement)">
                            <span>ç»ƒä¹ å¸¸è§é—®é¢˜å›ç­”</span>
                        </div>
                        <div class="notes">
                            æ³¨æ„äº‹é¡¹ï¼š
                            - æ³¨æ„è‚¢ä½“è¯­è¨€
                            - æ§åˆ¶è¯­é€Ÿå’ŒéŸ³é‡
                            - ä¿æŒçœ¼ç¥äº¤æµ
                        </div>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <div class="detail-panel">
            <h2>è¯¦ç»†è¯´æ˜</h2>
            <!-- ç¬¬1æ­¥è¯¦æƒ… -->
            <div class="detail-content" id="step1-detail">
                <h3>èƒŒè°ƒè¦ç‚¹</h3>
                <div class="tip-box">
                    <h4>èƒŒè°ƒå·¥å…·æ¨èï¼š</h4>
                    <ul>
                        <li>
                            <a href="https://www.qcc.com/" target="_blank" class="resource-link">ä¼æŸ¥æŸ¥<span class="tag">å·¥å•†ä¿¡æ¯</span></a>
                            <a href="https://www.tianyancha.com/" target="_blank" class="resource-link">å¤©çœ¼æŸ¥<span class="tag">ä¼ä¸šä¿¡ç”¨</span></a>
                        </li>
                        <li>
                            <a href="https://maimai.cn/" target="_blank" class="resource-link">è„‰è„‰<span class="tag">èŒåœºç¤¾åŒº</span></a>
                            <a href="https://www.kanzhun.com/" target="_blank" class="resource-link">çœ‹å‡†ç½‘<span class="tag">å…¬å¸è¯„ä»·</span></a>
                        </li>
                        <li>
                            <a href="https://36kr.com/" target="_blank" class="resource-link">36æ°ª<span class="tag">åˆ›æŠ•èµ„è®¯</span></a>
                            <a href="https://www.huxiu.com/" target="_blank" class="resource-link">è™å—…<span class="tag">è¡Œä¸šåˆ†æ</span></a>
                        </li>
                    </ul>
                </div>
                <div class="warning-box">
                    <h4>é‡ç‚¹å…³æ³¨ï¼š</h4>
                    <ul>
                        <li>å…¬å¸å‘å±•é˜¶æ®µï¼šèèµ„æƒ…å†µã€å›¢é˜Ÿè§„æ¨¡</li>
                        <li>ä¸šåŠ¡å¢é•¿æƒ…å†µï¼šè¥æ”¶ã€ç”¨æˆ·æ•°æ®</li>
                        <li>å›¢é˜Ÿæ°›å›´ï¼šç¦»èŒç‡ã€åŠ ç­æƒ…å†µ</li>
                        <li>å‘å±•ç©ºé—´ï¼šæ™‹å‡æœºåˆ¶ã€åŸ¹è®­ä½“ç³»</li>
                    </ul>
                </div>
            </div>

            <!-- ç¬¬2æ­¥è¯¦æƒ… -->
            <div class="detail-content" id="step2-detail">
                <h3>å²—ä½åˆ†æè¦ç‚¹</h3>
                <div class="tip-box">
                    <h4>å²—ä½ä»·å€¼è¯„ä»·ï¼š</h4>
                    <ul>
                        <li>å²—ä½çº§åˆ«ï¼šåˆçº§ã€ä¸­çº§ã€é«˜çº§ã€ä¸“å®¶</li>
                        <li>å‘å±•è·¯å¾„ï¼šä¸“ä¸šè·¯çº¿ã€ç®¡ç†è·¯çº¿</li>
                        <li>æ ¸å¿ƒèŒè´£ï¼šå…³é”®KPIã€è€ƒæ ¸æ ‡å‡†</li>
                        <li>æŠ€èƒ½è¦æ±‚ï¼šå¿…å¤‡æŠ€èƒ½ã€åŠ åˆ†é¡¹</li>
                    </ul>
                </div>
                <div class="warning-box">
                    <h4>è–ªé…¬ç»“æ„åˆ†æï¼š</h4>
                    <ul>
                        <li>åŸºæœ¬å·¥èµ„ï¼šè¡Œä¸šæ°´å¹³å¯¹æ¯”</li>
                        <li>ç»©æ•ˆå¥–é‡‘ï¼šè€ƒæ ¸æ–¹å¼ã€å‘æ”¾å‘¨æœŸ</li>
                        <li>è‚¡æƒæ¿€åŠ±ï¼šæœŸæƒã€è‚¡ç¥¨</li>
                        <li>ç¦åˆ©å¾…é‡ï¼šäº”é™©ä¸€é‡‘ã€è¡¥è´´ç­‰</li>
                    </ul>
                </div>
            </div>

            <!-- ç¬¬3æ­¥è¯¦æƒ… -->
            <div class="detail-content" id="step3-detail">
                <h3>è¡Œä¸šåˆ†æ</h3>
                <div class="warning-box">
                    <h4>ç ”ç©¶èµ„æºï¼š</h4>
                    <div class="resource-group">
                        <a href="https://www.iresearch.com.cn/" target="_blank" class="resource-link">
                            è‰¾ç‘å’¨è¯¢
                            <span class="tag">ç ”ç©¶æŠ¥å‘Š</span>
                        </a>
                        <a href="https://www.analysys.cn/" target="_blank" class="resource-link">
                            æ˜“è§‚æ™ºåº“
                            <span class="tag">æ•°æ®åˆ†æ</span>
                        </a>
                        <a href="https://www.mckinsey.com.cn/insights/" target="_blank" class="resource-link">
                            éº¦è‚¯é”¡
                            <span class="tag">è¡Œä¸šæ´å¯Ÿ</span>
                        </a>
                        <a href="https://www.pwccn.com/zh/research-and-insights.html" target="_blank" class="resource-link">
                            æ™®åæ°¸é“ç ”ç©¶
                            <span class="tag">è¡Œä¸šæ´å¯Ÿ</span>
                        </a>
                        <a href="https://www2.deloitte.com/cn/zh/industries.html" target="_blank" class="resource-link">
                            å¾·å‹¤è¡Œä¸šæ´å¯Ÿ
                            <span class="tag">è¶‹åŠ¿æŠ¥å‘Š</span>
                        </a>
                    </div>
                </div>
                <div class="example-box">
                    <h4>è¡Œä¸šè¶‹åŠ¿ï¼š</h4>
                    <ul>
                        <li>å¸‚åœºè§„æ¨¡ï¼šå¢é•¿ç‡ã€å¸‚åœºå®¹é‡</li>
                        <li>ç«äº‰æ ¼å±€ï¼šä¸»è¦ç©å®¶ã€å¸‚åœºä»½é¢</li>
                        <li>æŠ€æœ¯å˜é©ï¼šæ–°æŠ€æœ¯ã€æ–°æ¨¡å¼</li>
                        <li>æ”¿ç­–ç¯å¢ƒï¼šç›‘ç®¡æ”¿ç­–ã€æ‰¶æŒæ”¿ç­–</li>
                    </ul>
                </div>
                <div class="tip-box">
                    <h4>å…¬å¸å®šä½ï¼š</h4>
                    <ul>
                        <li>å•†ä¸šæ¨¡å¼ï¼šç›ˆåˆ©ç‚¹ã€æˆæœ¬ç»“æ„</li>
                        <li>æ ¸å¿ƒä¼˜åŠ¿ï¼šæŠ€æœ¯ã€ç”¨æˆ·ã€æ¸ é“</li>
                        <li>å‘å±•æˆ˜ç•¥ï¼šçŸ­æœŸç›®æ ‡ã€é•¿æœŸè§„åˆ’</li>
                        <li>ç«äº‰ç­–ç•¥ï¼šå·®å¼‚å®šä½</li>
                    </ul>
                </div>
            </div>

            <!-- ç¬¬4æ­¥è¯¦æƒ… -->
            <div class="detail-content" id="step4-detail">
                <h3>è‡ªæˆ‘ä»‹ç»å‡†å¤‡</h3>
                <div class="example-box">
                    <h4>ç»“æ„è®¾è®¡ï¼š</h4>
                    <ul>
                        <li>å¼€åœºï¼šå§“åã€å­¦å†èƒŒæ™¯ï¼ˆ10ç§’ï¼‰</li>
                        <li>ç»å†ï¼šå·¥ä½œç»éªŒã€æ ¸å¿ƒæˆå°±ï¼ˆ30ç§’ï¼‰</li>
                        <li>èƒ½åŠ›ï¼šä¸“ä¸šæŠ€èƒ½ã€ä¸ªäººç‰¹é•¿ï¼ˆ30ç§’ï¼‰</li>
                        <li>æœŸæœ›ï¼šæ±‚èŒç›®æ ‡ï¿½ï¿½ï¿½èŒä¸šè§„åˆ’ï¼ˆ20ç§’ï¼‰</li>
                    </ul>
                </div>
                <div class="tip-box">
                    <h4>å‡†å¤‡è¦ç‚¹ï¼š</h4>
                    <ul>
                        <li>æ—¶é•¿æ§åˆ¶ï¼š90ç§’æœ€ä½³ï¼Œä¸è¶…è¿‡2åˆ†é’Ÿ</li>
                        <li>é‡ç‚¹çªå‡ºï¼šä¸å²—ä½çš„åŒ¹é…åº¦</li>
                        <li>æ•°æ®æ”¯æ’‘ï¼šç”¨å…·ä½“æ•°å­—è¯´è¯</li>
                        <li>é€»è¾‘æ¸…æ™°ï¼šæ—¶é—´é¡ºåºæˆ–é‡è¦æ€§</li>
                    </ul>
                </div>
            </div>

            <!-- ç¬¬5æ­¥è¯¦æƒ… -->
            <div class="detail-content" id="step5-detail">
                <h3>é¢è¯•é—®é¢˜å‡†å¤‡</h3>
                <div class="example-box">
                    <h4>é—®é¢˜åˆ†ç±»ï¼š</h4>
                    <ul>
                        <li>ä¸ªäººèƒŒæ™¯ç±»ï¼šå­¦ä¹ å’Œå·¥ä½œç»å†</li>
                        <li>ä¸“ä¸šèƒ½åŠ›ç±»ï¼šæŠ€æœ¯æ ˆå’Œé¡¹ç›®ç»éªŒ</li>
                        <li>æ€§æ ¼ç‰¹å¾ç±»ï¼šä¼˜ç¼ºç‚¹å’Œå¤„äº‹æ–¹å¼</li>
                        <li>èŒä¸šè§„åˆ’ç±»ï¼šå‘å±•ç›®æ ‡å’ŒæœŸæœ›</li>
                    </ul>
                </div>
                <div class="warning-box">
                    <h4>å›ç­”æŠ€å·§ï¼š</h4>
                    <ul>
                        <li>STARæ³•åˆ™ï¼šæƒ…å¢ƒã€ä»»åŠ¡ã€è¡ŒåŠ¨ã€ç»“æœ</li>
                        <li>FABæ³•åˆ™ï¼šç‰¹å¾ã€ä¼˜åŠ¿ã€æ”¶ç›Š</li>
                        <li>5W2Håˆ†æï¼šWhatã€Whyã€Whoã€Whenã€Whereã€Howã€How much</li>
                    </ul>
                </div>
            </div>

            <!-- ç¬¬6æ­¥è¯¦æƒ… -->
            <div class="detail-content" id="step6-detail">
                <h3>é¡¹ç›®ç»å†å‡†å¤‡</h3>
                <div class="tip-box">
                    <h4>é¡¹ç›®è¦ç´ ï¼š</h4>
                    <ul>
                        <li>é¡¹ç›®èƒŒæ™¯ï¼šä¸šåŠ¡ç—›ç‚¹ã€å¸‚åœºéœ€æ±‚</li>
                        <li>è§£å†³æ–¹æ¡ˆï¼šæŠ€æœ¯é€‰å‹ã€å®ç°æ€è·¯</li>
                        <li>ä¸ªäººèŒè´£ï¼šåˆ†å·¥ã€è´¡çŒ®åº¦</li>
                        <li>é¡¹ç›®æˆæœï¼šæ•°æ®ã€æ”¶ç›Šåé¦ˆ</li>
                    </ul>
                </div>
                <div class="example-box">
                    <h4>äº®ç‚¹æç‚¼ï¼š</h4>
                    <ul>
                        <li>æŠ€æœ¯åˆ›æ–°ï¼šæ–°æŠ€æœ¯åº”ç”¨ã€æ•ˆç‡æå‡</li>
                        <li>ä¸šåŠ¡ä»·å€¼ï¼šæ”¶å…¥å¢é•¿ã€æˆæœ¬é™ä½</li>
                        <li>å›¢é˜Ÿåä½œï¼šè·¨éƒ¨é—¨åˆä½œã€èµ„æºæ•´åˆ</li>
                        <li>é—®é¢˜è§£å†³ï¼šéš¾ç‚¹çªç ´ã€é£é™©ç®¡æ§</li>
                    </ul>
                </div>
            </div>

            <!-- ç¬¬7æ­¥è¯¦æƒ… -->
            <div class="detail-content" id="step7-detail">
                <h3>æ¨¡æ‹Ÿé¢è¯•å‡†å¤‡</h3>
                <div class="tip-box">
                    <h4>å‡†å¤‡æ¸…å•ï¼š</h4>
                    <ul>
                        <li>ç€è£…ï¼šå•†åŠ¡æ­£è£…ä¸ºä¸»</li>
                        <li>ææ–™ï¼šç®€å†ã€ä½œå“é›†ã€è¯ä¹¦</li>
                        <li>å·¥å…·ï¼šç¬”è®°æœ¬ã€ç­¾å­—ç¬”</li>
                        <li>æ—¶é—´ï¼šæå‰20åˆ†é’Ÿåˆ°è¾¾</li>
                    </ul>
                </div>
                <div class="warning-box">
                    <h4>æ³¨æ„äº‹é¡¹ï¼š</h4>
                    <ul>
                        <li>ä»ªå®¹æ•´æ´ï¼šç€è£…ã€å¦†å®¹å¾—ä½“</li>
                        <li>è‚¢ä½“è¯­è¨€ï¼šåå§¿ç«¯æ­£ã€çœ¼ç¥äº¤æµ</li>
                        <li>è¯­è¨€è¡¨è¾¾ï¼šè¯­é€Ÿé€‚ä¸­ã€å£°éŸ³æ¸…æ™°</li>
                        <li>ç¤¼ä»ªç»†èŠ‚ï¼šå…³æœºã€æ•²é—¨ã€é“è°¢</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ä¿å­˜è¿›åº¦æœ¬åœ°å­˜å‚¨
        function saveProgress() {
            const todoItems = document.querySelectorAll('.todo-item');
            const progress = {};
            
            todoItems.forEach((item, index) => {
                const subtasks = item.querySelectorAll('.subtask input');
                progress[index] = Array.from(subtasks).map(checkbox => checkbox.checked);
            });
            
            localStorage.setItem('interviewProgress', JSON.stringify(progress));
        }

        // åŠ è½½ä¿å­˜çš„è¿›åº¦
        function loadProgress() {
            const saved = localStorage.getItem('interviewProgress');
            if (saved) {
                const progress = JSON.parse(saved);
                Object.keys(progress).forEach(index => {
                    const todoItem = document.querySelectorAll('.todo-item')[index];
                    const subtasks = todoItem.querySelectorAll('.subtask input');
                    progress[index].forEach((checked, i) => {
                        subtasks[i].checked = false; // ç¡®ä¿é»˜è®¤ä¸é€‰ä¸­
                        if (checked) {
                            subtasks[i].parentElement.classList.remove('completed');
                        }
                    });
                    updateProgress(todoItem.querySelector('.todo-content'));
                });
            }
        }

        function showStepDetail(step) {
            // éšè—æ‰€æœ‰è¯¦æƒ…é¢æ¿
            document.querySelectorAll('.detail-content').forEach(panel => {
                panel.classList.remove('active');
                panel.style.display = 'none';
                panel.style.opacity = '0';
                panel.style.transform = 'translateY(10px)';
            });
            
            // æ˜¾ç¤ºå¯¹åº”æ­¥éª¤çš„è¯¦æƒ…é¢æ¿
            const detailPanel = document.getElementById(`step${step}-detail`);
            if (detailPanel) {
                detailPanel.classList.add('active');
                detailPanel.style.display = 'block';
                // ä½¿ç”¨ setTimeout ç¡®ä¿ display:block ç”Ÿæ•ˆåå†æ·»åŠ åŠ¨ç”»
                setTimeout(() => {
                    detailPanel.style.opacity = '1';
                    detailPanel.style.transform = 'translateY(0)';
                }, 50);
            }
        }

        function toggleContent(header) {
            const todoItem = header.closest('.todo-item');
            const stepNumber = todoItem.getAttribute('data-step');
            
            // å…³é—­å…¶ä»–æ‰“å¼€çš„é¡¹ç›®
            document.querySelectorAll('.todo-item.active').forEach(item => {
                if (item !== todoItem) {
                    item.classList.remove('active');
                }
            });
            
            // åˆ‡æ¢å†…å®¹æ˜¾ç¤º
            todoItem.classList.toggle('active');
            
            // æ˜¾ç¤ºå³ä¾§è¯¦æƒ…
            showStepDetail(stepNumber);
        }

        function toggleStep(checkbox) {
            const todoItem = checkbox.closest('.todo-item');
            const stepNumber = todoItem.getAttribute('data-step');
            if (checkbox.checked) {
                todoItem.classList.add('active');
                showStepDetail(stepNumber);
            } else {
                todoItem.classList.remove('active');
            }
        }

        function updateProgress(todoContent) {
            const todoItem = todoContent.closest('.todo-item');
            const mainCheckbox = todoItem.querySelector('.todo-checkbox');
            const subtaskCheckboxes = todoContent.querySelectorAll('.subtask input[type="checkbox"]');
            
            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰å­ä»»åŠ¡éƒ½å®Œæˆ
            const allChecked = Array.from(subtaskCheckboxes).every(checkbox => checkbox.checked);
            mainCheckbox.checked = allChecked;
            
            saveProgress();
            updateTotalProgress();
        }

        function updateTotalProgress() {
            const allSubtasks = document.querySelectorAll('.subtask input[type="checkbox"]');
            const completedSubtasks = document.querySelectorAll('.subtask input[type="checkbox"]:checked');
            
            const totalPercentage = (completedSubtasks.length / allSubtasks.length) * 100;
            const formattedPercentage = Math.round(totalPercentage);
            
            const progressCircle = document.querySelector('.progress-circle-value');
            const progressText = document.querySelector('.progress-text');
            
            const circumference = 2 * Math.PI * 15.9155;
            const offset = circumference - (formattedPercentage / 100) * circumference;
            progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            progressCircle.style.strokeDashoffset = offset;
            progressText.textContent = `${formattedPercentage}%`;
            
            // æ£€æŸ¥æ˜¯å¦å…¨éƒ¨å®Œæˆ
            if (formattedPercentage === 100) {
                celebrate();
            }
        }

        function celebrate() {
            const celebration = document.querySelector('.celebration');
            celebration.classList.add('active');

            // åˆ›å»ºçƒŸèŠ±æ•ˆæœ
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const firework = document.createElement('div');
                    firework.className = 'firework';
                    firework.style.left = Math.random() * window.innerWidth + 'px';
                    firework.style.top = Math.random() * window.innerHeight + 'px';
                    celebration.appendChild(firework);

                    // ç§»é™¤åŠ¨ç”»å®Œæˆçš„å…ƒç´ 
                    setTimeout(() => firework.remove(), 1000);
                }, i * 300);
            }

            // åˆ›å»ºå½©å¸¦æ•ˆæœ
            const colors = ['#6c5ce7', '#a29bfe', '#74b9ff', '#81ecec', '#55efc4'];
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * window.innerWidth + 'px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 3 + 's';
                celebration.appendChild(confetti);

                // ç§»é™¤åŠ¨ç”»å®Œæˆçš„å…ƒç´ 
                setTimeout(() => confetti.remove(), 3000);
            }

            // 3ç§’åéšè—åº†ç¥æ•ˆæœ
            setTimeout(() => {
                celebration.classList.remove('active');
                celebration.innerHTML = '';
            }, 3000);
        }

        // é¡µé¢åŠ è½½æ—¶æ¢å¤è¿›åº¦
        document.addEventListener('DOMContentLoaded', loadProgress);

        // æ·»åŠ æ»šåŠ¨åˆ°è§†å›¾åŠŸèƒ½
        function scrollIntoViewIfNeeded(element) {
            const rect = element.getBoundingClientRect();
            if (rect.bottom > window.innerHeight) {
                element.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºç¬¬ä¸€ä¸ªæ­¥éª¤çš„è¯¦æƒ…
        document.addEventListener('DOMContentLoaded', function() {
            showStepDetail(1);
            updateTotalProgress();
        });
    </script>
</body>
</html> 